# نظام القوالب المنقسم - Template System Modular

## نظرة عامة

تم تقسيم ملف `templates.js` الكبير (2318 سطر) إلى ملفات مختصرة ومنظمة في مجلد `public/js/templates/` لسهولة الصيانة والتطوير.

## هيكل الملفات

```
public/js/templates/
├── README.md                 # هذا الملف - التوثيق
├── index.js                  # ملف فهرس لتحميل جميع الملفات
├── templates-core.js         # الأساسيات
├── templates-ui.js           # واجهة المستخدم
├── word-highlight.js         # نظام الهايلايت
├── sticker-templates.js      # قالب الملصقات
├── highlight-caption.js      # قالب هايلايت كابشن
├── single-word-sync.js       # قالب الكلمة الواحدة
├── typewriter.js             # قالب الآلة الكاتبة
├── two-phase-system.js       # نظام المرحلتين
└── templates-main.js         # الملف الرئيسي
```

### 1. **templates-core.js** - الأساسيات
- متغيرات القوالب الأساسية
- دوال تحميل وعرض القوالب
- تطبيق الأنماط الأساسية
- حقن الأنيميشن

### 2. **templates-ui.js** - واجهة المستخدم
- إدارة تبويبات القوالب
- مستمعي الأحداث
- البحث في القوالب

### 3. **word-highlight.js** - نظام الهايلايت
- نظام الهايلايت كلمة بكلمة
- تزامن مع الفيديو
- دعم المراحل المتعددة
- تأثيرات مختلفة (أصفر، وردي، أخضر، أحمر)

### 4. **sticker-templates.js** - قالب الملصقات
- ملصقات ملونة في شبكة 2×2
- ألوان متعددة ومتنوعة
- تزامن مع الصوت
- تأثيرات حركية

### 5. **highlight-caption.js** - قالب هايلايت كابشن
- قالب بارز بأسلوب VEED
- خلفية خضراء فاتحة
- تأثيرات حركية متقدمة

### 6. **single-word-sync.js** - قالب الكلمة الواحدة
- عرض كلمة واحدة في كل مرة
- تزامن دقيق مع الصوت
- تأثيرات ظهور متقدمة

### 7. **typewriter.js** - قالب الآلة الكاتبة
- محاكاة الكتابة على الآلة الكاتبة
- دعم اللغة العربية (RTL)
- مؤشر وامض
- دعم المراحل المتعددة

### 8. **two-phase-system.js** - نظام المرحلتين
- عرض أول 4 كلمات ثم باقي الكلمات
- تزامن مع الفيديو
- للقوالب العادية

### 9. **templates-main.js** - الملف الرئيسي
- تجميع جميع الوحدات
- API موحد
- تهيئة النظام
- معلومات النظام

## القوالب المتاحة

1. **كلاسيكي أبيض** - قالب بسيط بخلفية سوداء
2. **أسلوب تيك توك** - قالب ملون بأسلوب تيك توك
3. **كاريوكي** - قالب كاريوكي مع تمييز الكلمات
4. **كبسولة أنيقة** - قالب أنيق على شكل كبسولة
5. **هايلايت كلمة بكلمة** - تمييز الكلمات واحدة تلو الأخرى
6. **تمييز أصفر متزامن** - تمييز أصفر بدون خلفية
7. **ملصقات ملونة** - ملصقات ملونة في شبكة 2×2
8. **هايلايت كابشن** - قالب بارز بأسلوب VEED
9. **كلمة واحدة متزامنة** - كلمة واحدة في كل مرة
10. **موجة نص وردي** - تأثير موجة وردي
11. **تكبير نص أخضر** - تأثير تكبير أخضر
12. **كتابة عربية على الآلة الكاتبة** - محاكاة الآلة الكاتبة

## فوائد التقسيم

### 1. **سهولة الصيانة**
- كل ملف مختص في وظيفة واحدة
- أسهل في العثور على الأخطاء وإصلاحها
- تحديثات أكثر دقة

### 2. **إعادة الاستخدام**
- يمكن استخدام كل وحدة منفصلة
- إمكانية تطوير ميزات جديدة بسهولة
- مرونة أكبر في التطوير

### 3. **سهولة القراءة**
- ملفات أصغر وأكثر وضوحاً
- تنظيم أفضل للكود
- تعليقات أكثر تفصيلاً

### 4. **التطوير المتوازي**
- يمكن العمل على عدة ملفات في نفس الوقت
- تقليل التعارضات في Git
- تطوير أسرع

### 5. **اختبار أفضل**
- يمكن اختبار كل وحدة منفصلة
- اختبارات أكثر دقة
- اكتشاف الأخطاء أسرع

## كيفية الاستخدام

### تحميل الملفات

#### الطريقة الأولى: تحميل فردي
```html
<!-- في ملف index.html -->
<script src="public/js/templates/templates-core.js"></script>
<script src="public/js/templates/templates-ui.js"></script>
<script src="public/js/templates/word-highlight.js"></script>
<script src="public/js/templates/sticker-templates.js"></script>
<script src="public/js/templates/highlight-caption.js"></script>
<script src="public/js/templates/single-word-sync.js"></script>
<script src="public/js/templates/typewriter.js"></script>
<script src="public/js/templates/two-phase-system.js"></script>
<script src="public/js/templates/templates-main.js"></script>
```

#### الطريقة الثانية: تحميل تلقائي (مبسط)
```html
<!-- في ملف index.html -->
<script src="public/js/templates/index.js"></script>
```

### استخدام API
```javascript
// استخدام API موحد
window.TemplateManager.loadTemplates();
window.TemplateManager.applyTemplateStyles(template);

// استخدام وحدات منفصلة
window.WordHighlight.startWordHighlight(captionBox, template, vttData);
window.StickerTemplates.applyStickerTemplate(captionBox, template);
```

## معلومات النظام

- **الإصدار**: 2.0.0
- **تاريخ التحديث**: 2024
- **المطور**: Template System Developer
- **الوصف**: نظام القوالب المنقسم - إدارة قوالب الترجمة المتقدمة

## الدعم

للدعم أو الاستفسارات، يرجى مراجعة ملفات الكود أو التواصل مع فريق التطوير.

---

**ملاحظة**: هذا التقسيم يحافظ على جميع الوظائف الأصلية مع تحسين التنظيم والأداء.
